# SQLite Data Manager - Claude Project Context

## プロジェクト概要
SAP生産データの自動取り込み・型推定・正規化を行うSQLite基盤のデータ管理システム

## 現在の状況
- **Phase**: データ型整理・統合フェーズ
- **優先度**: 最優先プロジェクト
- **進捗**: 基本的なファイル読み込み機能は完成（39/40ファイル成功）

## 主要課題
1. **データ型整理の躓き**: 2,400+フィールドの型統合
2. **情シス側の統一性なし**: エンコーディング、区切り文字、拡張子、フィールド名がバラバラ
3. **SAPデータの特殊性**: 0パディング、後ろマイナス、同一データでも複数ファイルで形式混在

## 技術スタック
- **Backend**: Python + SQLite
- **Data Processing**: pandas
- **Frontend（予定）**: Streamlit
- **Version Control**: GitHub

## 開発方針
- 段階的アプローチで着実に進める
- 既存のコード資産を無駄にしない
- 自動化重視（手作業を最小限に）

## 次のステップ
1. データ型修正ツールの開発
2. 同一データの重複フィールド統合機能
3. SAPデータ特殊ルールの対応

## ファイル構成
```
sqlite-data-manager/
├── main.py              # エントリポイント
├── config.py           # 設定管理
├── analyzer.py         # データ分析・型推定
├── loader.py           # ファイル読み込み（最新修正済み）
├── init_dev.py         # 開発環境初期化
├── init_prod.py        # 本番環境初期化
├── mapper.py           # データマッピング
├── db.py              # DB操作
├── master_manager.py  # マスタ管理
├── output/            # 出力ディレクトリ
│   ├── master.db     # SQLiteDB
│   └── compare_report.csv # 型比較結果
└── テキスト/          # 入力データ（40ファイル）
```

## 重要メモ
- データが0行の場合は異常検出のトリガーファイル（正常動作）
- 毎日のデータ更新を想定したシステム設計
- イレギュラー処理・新ファイル増加への対応が必要
